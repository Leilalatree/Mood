<!doctype html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../css/mui.css" rel="stylesheet" />
		<link href="../css/mui.min.css" rel="stylesheet" />

		<link href="../css/date/mui.picker.css" rel="stylesheet" />
		<link href="../css/date/mui.picker.min.css" rel="stylesheet" />
		<link href="../css/date/mui.poppicker.css" rel="stylesheet" />
	</head>
	<style type="text/css">
		.mui-content {
			width: 97%;
			margin: 3.5rem 1.5%;
			background-color: #FFFFFF;
			border-radius: 5px;
			box-shadow: 2px 2px 3px #00173E;
		}

		.mui-content-padded img {
			width: 36px;
			height: auto;
			/* display: inline-block; */
			vertical-align: middle;
		}

		.mui-table-cell {
			width: 100%;
			/* border: #000000 1px solid; */
			display: inline-block;
		}
	</style>
	<header class="mui-bar mui-bar-nav"id="nav-date">
		<h1 id="mui-title"class="mui-title"></h1>
	</header>
	<body>
		<div class="mui-content" style="">
			<div class="mui-content-padded" style="margin-top:-1.5rem;text-align: center;">
				<img class="" src="../images/record/notice.png" />
				<span style="vertical-align: middle;">每天记录有助于情绪管理哦</span>
			</div>
			<ul class="mui-table-view mui-table-view-striped mui-table-view-condensed">
				<li class="mui-table-view-cell" id="mood-record">
					<div class="mui-table-cell mui-col-xs-5">
						<button id='showMoodPicker' class="mui-btn mui-icon mui-icon- mui-btn-block" type='button'>心情如何</button>
					</div>
				</li>
				<li class="mui-table-view-cell" id="sleep-record">
					<div class="mui-table-cell mui-col-xs-5">
						<button id='showSleepPicker' class="mui-btn mui-icon mui-icon- mui-btn-block" type='button'>睡眠质量</button>
					</div>
				</li>
			</ul>

		</div>
	</body>
	<script src="../js/mui.min.js"></script>
	<script src="../js/mui.js"></script>
	<script src="../js/date/moment.js"></script>
	<script src="../js/date/mui.picker.min.js"></script>
	<script type="text/javascript">
		mui.init()
		// 头部显示今天日期
		const title = document.getElementById('mui-title');
		const nowString = new Date(Date.now()).toLocaleDateString();
		const nowArry = nowString.split('/');
		const year = nowArry[2];
		const month = nowArry[0];
		title.textContent = `${year}-${month}-${nowArry[1]}`;

		//心情选项
		const moodPicker = new mui.PopPicker();
		moodPicker.setData([{
				value: 0,
				text: '比平常差'
			}, {
				value: 1,
				text: '与平常一样'
			},
			{
				value: 2,
				text: '比平常好'
			}
		]);
		const showMoodPickerButton = document.getElementById('showMoodPicker');
		showMoodPickerButton.addEventListener('tap', function(event) {
			moodPicker.show(function(items) {
				console.log(items);
				const selectItemText = items[0].text
				const displayText = "今天的心情：" +  selectItemText;
				showMoodPicker.innerText = displayText;
				//返回 false 可以阻止选择框的关闭
				//return false;
			});
		}, false);
		// 睡眠选项
		const sleepPicker = new mui.PopPicker();
		sleepPicker.setData([{
				value: 0,
				text: '失眠(包括入睡困难、早醒)'
			}, {
				value: 1,
				text: '正常'
			},
			{
				value: 2,
				text: '嗜睡'
			}
		]);
		const showSleepPickerButton = document.getElementById('showSleepPicker');
		showSleepPickerButton.addEventListener('tap', function(event) {
			sleepPicker.show(function(items) {
				console.log(items);
				const selectItemText = items[0].text
				const displayText = "今天的睡眠质量：" +  selectItemText;
				showMoodPicker.innerText = displayText;
				//返回 false 可以阻止选择框的关闭
				//return false;
			});
		}, false);
		
		

		var dtpicker = new mui.DtPicker({
			type: "date", //设置日历初始视图模式 
			beginDate: new Date(2019,0), //设置开始日期 
			endDate: new Date(Date.now()), //设置结束日期 
			labels: ['年', '月', '日'], //设置默认标签区域提示语 
		})
		const navDate = document.getElementById('nav-date')
		navDate.addEventListener('tap',function(event){
			dtpicker.show(function(e) {
					console.log(e);
				})
		})
				
// 		var iTems = dtpicker.getSelectedItems()
// 		console.log(iTems)
	</script>
</html>
